{"version":3,"file":"index.js","sources":["../src/storage.js","../src/sumToWordsUa.js","../src/docxGenerator.js","../src/main.js"],"sourcesContent":["import { saveAs } from \"file-saver\";\n\n// –î–∞—Ç–∞\nexport function initInvoiceDate() {\n  const input = document.getElementById(\"invoiceDate\");\n  const today = new Date();\n  const yyyy = today.getFullYear();\n  const mm = String(today.getMonth() + 1).padStart(2, \"0\");\n  const dd = String(today.getDate()).padStart(2, \"0\");\n  input.value = `${yyyy}-${mm}-${dd}`;\n}\n\n// –ù–æ–º–µ—Ä –Ω–∞–∫–ª–∞–¥–Ω–æ—ó\nexport function loadInvoiceNumber() {\n  const data = localStorage.getItem(\"lastInvoiceNumber\");\n  return data\n    ? Number(JSON.parse(data)) + 43\n    : Math.floor(100000 + Math.random() * 900000);\n}\n\nexport function saveInvoiceNumber(number) {\n  localStorage.setItem(\"lastInvoiceNumber\", JSON.stringify(number));\n}\n\n// –¢–æ–≤–∞—Ä–∏\nexport function loadProductsFromStorage() {\n  const data = localStorage.getItem(\"products\");\n  return data ? JSON.parse(data) : [];\n}\n\nexport function saveProductsToStorage(products) {\n  localStorage.setItem(\"products\", JSON.stringify(products));\n}\n\nexport function updateProductDatalist() {\n  const datalist = document.getElementById(\"products\");\n  datalist.innerHTML = \"\";\n  loadProductsFromStorage().forEach((prod) => {\n    const option = document.createElement(\"option\");\n    option.value = prod;\n    datalist.appendChild(option);\n  });\n}\n\n// –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä—è–¥–∫–∞\nexport function addProductRow() {\n  const container = document.getElementById(\"items\");\n  const row = document.createElement(\"div\");\n  row.classList.add(\"item-row\");\n  row.innerHTML = `\n    <input name=\"productName\" list=\"products\" placeholder=\"–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É\" required>\n    <input name=\"qty\" type=\"number\" step=\"1\" placeholder=\"–ö—ñ–ª—å–∫—ñ—Å—Ç—å\" required>\n    <input name=\"measurementUnit\" placeholder=\"–û–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è\" required/>\n    <input name=\"price\" type=\"number\" step=\"0.01\" placeholder=\"–¶—ñ–Ω–∞\" required>\n  `;\n  container.appendChild(row);\n}\n\n// –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è\nexport let directoryHandle = null;\n\nexport async function chooseDirectory() {\n  try {\n    directoryHandle = await window.showDirectoryPicker();\n    localStorage.setItem(\"saveDirName\", directoryHandle.name);\n    window.directoryHandle = directoryHandle;\n    document.getElementById(\n      \"chosenPathLabel\"\n    ).textContent = `‚úì ${directoryHandle.name}`;\n  } catch (err) {\n    console.warn(\"–í–∏–±—ñ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó —Å–∫–∞—Å–æ–≤–∞–Ω–æ\", err);\n  }\n}\n\nexport async function saveToDirectory(blob, fileName) {\n  try {\n    if (!directoryHandle) {\n      saveAs(blob, fileName);\n      showSaveStatus(`–§–∞–π–ª \"${fileName}\" –∑–±–µ—Ä–µ–∂–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ.`);\n      return;\n    }\n\n    const fileHandle = await directoryHandle.getFileHandle(fileName, {\n      create: true,\n    });\n    const writable = await fileHandle.createWritable();\n    await writable.write(blob);\n    await writable.close();\n\n    showSaveStatus(\n      `–§–∞–π–ª \"${fileName}\" —É—Å–ø—ñ—à–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó \"${directoryHandle.name}\".`\n    );\n  } catch (err) {\n    console.error(\"–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ:\", err);\n    showSaveStatus(\"‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É.\", true);\n  }\n}\n\nexport function showSaveStatus(message, isError = false) {\n  const statusDiv = document.getElementById(\"saveStatus\");\n  statusDiv.textContent = message;\n  statusDiv.style.color = isError ? \"red\" : \"green\";\n  setTimeout(() => {\n    statusDiv.textContent = \"\";\n  }, 5000);\n}\n","export function sumToWordsUA(amount) {\n  const unitsFeminine = [\n    \"\",\n    \"–æ–¥–Ω–∞\",\n    \"–¥–≤—ñ\",\n    \"—Ç—Ä–∏\",\n    \"—á–æ—Ç–∏—Ä–∏\",\n    \"–ø‚Äô—è—Ç—å\",\n    \"—à—ñ—Å—Ç—å\",\n    \"—Å—ñ–º\",\n    \"–≤—ñ—Å—ñ–º\",\n    \"–¥–µ–≤‚Äô—è—Ç—å\",\n  ];\n  const unitsMasculine = [\n    \"\",\n    \"–æ–¥–∏–Ω\",\n    \"–¥–≤–∞\",\n    \"—Ç—Ä–∏\",\n    \"—á–æ—Ç–∏—Ä–∏\",\n    \"–ø‚Äô—è—Ç—å\",\n    \"—à—ñ—Å—Ç—å\",\n    \"—Å—ñ–º\",\n    \"–≤—ñ—Å—ñ–º\",\n    \"–¥–µ–≤‚Äô—è—Ç—å\",\n  ];\n  const teens = [\n    \"–¥–µ—Å—è—Ç—å\",\n    \"–æ–¥–∏–Ω–∞–¥—Ü—è—Ç—å\",\n    \"–¥–≤–∞–Ω–∞–¥—Ü—è—Ç—å\",\n    \"—Ç—Ä–∏–Ω–∞–¥—Ü—è—Ç—å\",\n    \"—á–æ—Ç–∏—Ä–Ω–∞–¥—Ü—è—Ç—å\",\n    \"–ø‚Äô—è—Ç–Ω–∞–¥—Ü—è—Ç—å\",\n    \"—à—ñ—Å—Ç–Ω–∞–¥—Ü—è—Ç—å\",\n    \"—Å—ñ–º–Ω–∞–¥—Ü—è—Ç—å\",\n    \"–≤—ñ—Å—ñ–º–Ω–∞–¥—Ü—è—Ç—å\",\n    \"–¥–µ–≤‚Äô—è—Ç–Ω–∞–¥—Ü—è—Ç—å\",\n  ];\n  const tens = [\n    \"\",\n    \"\",\n    \"–¥–≤–∞–¥—Ü—è—Ç—å\",\n    \"—Ç—Ä–∏–¥—Ü—è—Ç—å\",\n    \"—Å–æ—Ä–æ–∫\",\n    \"–ø‚Äô—è—Ç–¥–µ—Å—è—Ç\",\n    \"—à—ñ—Å—Ç–¥–µ—Å—è—Ç\",\n    \"—Å—ñ–º–¥–µ—Å—è—Ç\",\n    \"–≤—ñ—Å—ñ–º–¥–µ—Å—è—Ç\",\n    \"–¥–µ–≤‚Äô—è–Ω–æ—Å—Ç–æ\",\n  ];\n  const hundreds = [\n    \"\",\n    \"—Å—Ç–æ\",\n    \"–¥–≤—ñ—Å—Ç—ñ\",\n    \"—Ç—Ä–∏—Å—Ç–∞\",\n    \"—á–æ—Ç–∏—Ä–∏—Å—Ç–∞\",\n    \"–ø‚Äô—è—Ç—Å–æ—Ç\",\n    \"—à—ñ—Å—Ç—Å–æ—Ç\",\n    \"—Å—ñ–º—Å–æ—Ç\",\n    \"–≤—ñ—Å—ñ–º—Å–æ—Ç\",\n    \"–¥–µ–≤‚Äô—è—Ç—Å–æ—Ç\",\n  ];\n\n  function getWordForm(number, forms) {\n    const lastDigit = number % 10;\n    const lastTwoDigits = number % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) return forms[2];\n    if (lastDigit === 1) return forms[0];\n    if (lastDigit >= 2 && lastDigit <= 4) return forms[1];\n    return forms[2];\n  }\n\n  function groupToWords(n, gender = \"masculine\") {\n    if (n === 0) return \"–Ω—É–ª—å\";\n\n    let words = \"\";\n\n    if (n >= 100) {\n      const h = Math.floor(n / 100);\n      words += hundreds[h] + \" \";\n      n %= 100;\n    }\n\n    if (n >= 20) {\n      const t = Math.floor(n / 10);\n      words += tens[t] + \" \";\n      n %= 10;\n    }\n\n    if (n >= 10) {\n      words += teens[n - 10] + \" \";\n      n = 0;\n    }\n\n    if (n > 0) {\n      const units = gender === \"feminine\" ? unitsFeminine : unitsMasculine;\n      words += units[n] + \" \";\n    }\n\n    return words.trim();\n  }\n\n  function numberToWords(n) {\n    if (n === 0) return \"–Ω—É–ª—å\";\n\n    const millions = Math.floor(n / 1_000_000);\n    const thousands = Math.floor((n % 1_000_000) / 1_000);\n    const rest = n % 1_000;\n\n    let result = \"\";\n\n    if (millions > 0) {\n      result +=\n        groupToWords(millions) +\n        \" \" +\n        getWordForm(millions, [\"–º—ñ–ª—å–π–æ–Ω\", \"–º—ñ–ª—å–π–æ–Ω–∏\", \"–º—ñ–ª—å–π–æ–Ω—ñ–≤\"]) +\n        \" \";\n    }\n\n    if (thousands > 0) {\n      result +=\n        groupToWords(thousands, \"feminine\") +\n        \" \" +\n        getWordForm(thousands, [\"—Ç–∏—Å—è—á–∞\", \"—Ç–∏—Å—è—á—ñ\", \"—Ç–∏—Å—è—á\"]) +\n        \" \";\n    }\n\n    if (rest > 0) {\n      result += groupToWords(rest, \"feminine\") + \" \";\n    }\n\n    return result.trim();\n  }\n\n  const hryvnias = Math.floor(amount);\n  const kopiyky = Math.round((amount - hryvnias) * 100);\n\n  const hryvniaWords = numberToWords(hryvnias);\n  const hryvniaForm = getWordForm(hryvnias, [\"–≥—Ä–∏–≤–Ω—è\", \"–≥—Ä–∏–≤–Ω—ñ\", \"–≥—Ä–∏–≤–µ–Ω—å\"]);\n\n  const kopiykyWords = groupToWords(kopiyky, \"feminine\");\n  const kopiykyForm = getWordForm(kopiyky, [\"–∫–æ–ø—ñ–π–∫–∞\", \"–∫–æ–ø—ñ–π–∫–∏\", \"–∫–æ–ø—ñ–π–æ–∫\"]);\n\n  return `${\n    hryvniaWords[0].toUpperCase() + hryvniaWords.slice(1)\n  } ${hryvniaForm} ${kopiykyWords} ${kopiykyForm}`;\n}\n","import PizZip from \"pizzip\";\nimport Docxtemplater from \"docxtemplater\";\nimport {\n  loadProductsFromStorage,\n  saveInvoiceNumber,\n  saveProductsToStorage,\n  saveToDirectory,\n  updateProductDatalist,\n} from \"./storage\";\nimport { sumToWordsUA } from \"./sumToWordsUa\";\nimport templateUrl from \"./template.docx?url\";\n\nexport async function generateDocx(form) {\n  const fileName = form.fileName.value.trim();\n  const supplier = form.supplier.value.trim();\n  const buyer = form.buyer.value.trim();\n  const invoiceNumber = form.invoiceNumber.value.trim();\n  const invoiceDate = new Date(form.invoiceDate.value);\n  const invoiceDateShortString = form.invoiceDate.value;\n  const invoiceFormattedDate = invoiceDate.toLocaleDateString(\"uk-UA\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  });\n\n  const rows = Array.from(document.querySelectorAll(\"#items .item-row\")).map(\n    (row, index) => {\n      const productName = row\n        .querySelector('input[name=\"productName\"]')\n        .value.trim();\n      const qty = parseFloat(row.querySelector('input[name=\"qty\"]').value);\n      const price = parseFloat(row.querySelector('input[name=\"price\"]').value);\n      const measurementUnit = row\n        .querySelector('input[name=\"measurementUnit\"]')\n        .value.trim();\n      const sum = +(qty * price).toFixed(2);\n      return {\n        no: index + 1,\n        productName,\n        qty,\n        measurementUnit,\n        price: price.toFixed(2),\n        sum: sum.toFixed(2),\n      };\n    }\n  );\n\n  const total = rows.reduce((acc, r) => acc + parseFloat(r.sum), 0).toFixed(2);\n\n  const allProducts = new Set([\n    ...loadProductsFromStorage(),\n    ...rows.map((r) => r.productName),\n  ]);\n  saveProductsToStorage([...allProducts]);\n  updateProductDatalist();\n  saveInvoiceNumber(invoiceNumber);\n\n  const templateContent = await fetch(\"template.docx\").then((res) =>\n    res.arrayBuffer()\n  );\n  console.log(\"üöÄ ~ generateDocx ~ templateContent:\", templateContent);\n  const zip = new PizZip(templateContent);\n  const doc = new Docxtemplater(zip, { paragraphLoop: true, linebreaks: true });\n\n  doc.render({\n    supplier,\n    buyer,\n    invoiceNumber,\n    invoiceDate: invoiceFormattedDate,\n    items: rows,\n    length: rows.length,\n    total,\n    totalWithWords: sumToWordsUA(total),\n  });\n\n  const blob = doc.getZip().generate({\n    type: \"blob\",\n    mimeType:\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n  });\n\n  const finalFileName = `${fileName}_${invoiceDateShortString}_${invoiceNumber}.docx`;\n  await saveToDirectory(blob, finalFileName);\n}\n","import { generateDocx } from \"./docxGenerator\";\nimport {\n  addProductRow,\n  chooseDirectory,\n  initInvoiceDate,\n  loadInvoiceNumber,\n  updateProductDatalist,\n} from \"./storage\";\n\ninitInvoiceDate();\nupdateProductDatalist();\ndocument.querySelector('input[name=\"invoiceNumber\"]').value =\n  loadInvoiceNumber();\n\n// –ü–æ–¥—ñ—ó\ndocument.getElementById(\"addRowBtn\").addEventListener(\"click\", addProductRow);\ndocument\n  .getElementById(\"chooseDirBtn\")\n  .addEventListener(\"click\", chooseDirectory);\ndocument.getElementById(\"invoiceForm\").addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n  await generateDocx(e.target);\n});\n"],"names":["initInvoiceDate","input","today","yyyy","mm","dd","loadInvoiceNumber","data","saveInvoiceNumber","number","loadProductsFromStorage","saveProductsToStorage","products","updateProductDatalist","datalist","prod","option","addProductRow","container","row","directoryHandle","chooseDirectory","err","saveToDirectory","blob","fileName","saveAs","showSaveStatus","writable","message","isError","statusDiv","sumToWordsUA","amount","unitsFeminine","unitsMasculine","teens","tens","hundreds","getWordForm","forms","lastDigit","lastTwoDigits","groupToWords","n","gender","words","h","t","numberToWords","millions","thousands","rest","result","hryvnias","kopiyky","hryvniaWords","hryvniaForm","kopiykyWords","kopiykyForm","generateDocx","form","supplier","buyer","invoiceNumber","invoiceDate","invoiceDateShortString","invoiceFormattedDate","rows","index","productName","qty","price","measurementUnit","sum","total","acc","r","allProducts","templateContent","res","zip","PizZip","doc","Docxtemplater","finalFileName"],"mappings":"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"}